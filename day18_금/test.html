<!DOCTYPE html>
<html>
<head>
    <style>
    /* 기본 스타일 리셋 및 body 설정 */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    body {
        background-color: #f0f2f5; /* 부드러운 느낌의 연한 회색 배경 */
        padding: 20px;
    }

    /* 1. 전체 구역 */
    #wrap {
        max-width: 480px; 
        margin: 0 auto;
        background-color: #ffffff;
        padding: 30px;
        border-radius: 16px; 
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1); 
    }

    /* 페이지 제목 */
    .title {
        text-align: center;
        font-size: 28px;
        font-weight: 700;
        color: #1a202c;
        margin-bottom: 24px;
    }

    /* 2. 입력 구역 */
    #todoTop {
        display: flex;
        justify-content: space-between;
        margin-bottom: 30px;
    }

    /* 3. 입력상자 */
    .contentInput {
        width: 80%;
        padding: 12px 16px;
        font-size: 16px;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
    }


    /* 4. 등록버튼 */
    .addBtn {
        padding: 12px 20px;
        font-size: 16px;
        font-weight: 600;
        color: #ffffff;
        background-color: #4f46e5; /* 세련된 인디고 색상 */
        border: none;
        border-radius: 8px;
    }

    .addBtn:hover {
        background-color: #4338ca;
    }

    /* 할일 목록 컨테이너 */
    #todoBottom {
        display: flex;
        flex-direction: column;
    }

    /* 5. 할일 1개 구역 */
    .contentBox {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #f8fafc; /* body 배경보다 밝은 색상 */
        padding: 16px;
        border-radius: 8px;
        border: 1px solid #e2e8f0;
        margin-bottom: 20px;
    }

    /* 할일 내용 텍스트 */
    .content {
        font-size: 16px;
        color: #2d3748;
    }

    /* 버튼 컨테이너 */
    .contentBtns {
        display: flex;
    }

    /* 수정 및 삭제 버튼 */
    .updateBtn, .deleteBtn {
        font-size: 14px;
        padding: 6px 12px;
        border: 1px solid transparent;
        border-radius: 6px;
        font-weight: 500;
        margin-left: 10px;
    }

    /* 수정 버튼 스타일 */
    .updateBtn {
        color: #3b82f6;
        background-color: #dbeafe;
    }
    .updateBtn:hover {
        background-color: #bfdbfe;
        color: #2563eb;
    }

    /* 삭제 버튼 스타일 */
    .deleteBtn {
        color: #ef4444;
        background-color: #fee2e2;
    }
    .deleteBtn:hover {
        background-color: #fecaca;
        color: #dc2626;
    }

    /* 6. 할일이 완료일때 (success 클래스) */
    .success {
        background-color: #ffffff;
        border-color: #d1d5db;
        opacity: 0.6; /* 시각적으로 덜 중요해 보이도록 처리 */
    }

    /* 7. 완료된 할일 내용에 취소선 */
    .success > .content {
        text-decoration: line-through;
        color: #6b7280;
    }

    </style>
</head>
<body>

    <div id="wrap">
        <h1 class="title"> 나만의 할일 목록 </h1>
        <div id="todoTop">
            <input class="contentInput" />
            <input class="contentFile" type="file" />
            <button onclick="등록함수()" class="addBtn" > 등록 </button>
        </div> <!-- todoTop end -->

        <div id="todoBottom">

            <div class="contentBox">  
                <div class="content"> 1교시수업듣기 </div>
                <div class="contentBtns">
                    <button class="updateBtn" >수정</button>
                    <button class="deleteBtn" >삭제</button> 
                </div>
            </div>

            <div class="contentBox success">  
                <div class="content"> 밥먹기 </div>
                <div class="contentBtns">
                    <button class="updateBtn" >수정</button>
                    <button class="deleteBtn" >삭제</button> 
                </div> <!-- contentBtns end -->
            </div>

        </div> <!-- todoBottm end -->
    </div> <!-- wrap end -->

    <script>
//[1]
let 할일목록 = [
    {할일코드 : 1 , 할일내용 : "수업듣기" , 할일상태 : false },
    {할일코드 : 2 , 할일내용 : "밥먹기"   , 할일상태 : true  }
]

let 식별번호 = 3;

//[2] 등록함수, 실행조건 : [등록]버튼 클릭시 onclick                     , 매개변수 : x / 리턴값 : x  
function 등록함수(){ // 등록함수 start 
    // 1. [입력] HTML로 부터 ( 할일내용 ) 입력받은 값(value)를 js로 가져온다.
    let content = document.querySelector('.contentInput').value //[value호출]
    let file = document.querySelector('.contentFile').files[0] //[value호출]
    // 2. [처리] 객체 생성 --> 배열에 저장push
    let 할일 = {
        할일코드 : 식별번호 , // '식별번호' 변수값을 대입 
        할일내용 : content , // 입력받은 'content' 변수값을 대입 
        할일상태 : false  ,  // 초기값을 false(미완료 의미) 대입 
        할일사진 : file
    }
    할일목록.push( 할일 );  // 생성한 객체를 배열에 저장/대입 
    식별번호++;             // 다음 할일이 등록할때 식별코드가 1씩 증가 하기 위해서 
    // 3. [출력]
    console.log( 할일목록 ) // 테스트/확인 
    전체출력함수();

    // + 부가 코드 
    alert('[할일 등록 했습니다.]')
    document.querySelector('.contentInput').value = ``; //[value수정]
    return; // 함수종료 , 리턴 값이 없는 생략 가능 
} // 등록함수 end 


//[3] 전체출력함수,  실행조건 : 1.js실행될때 2.등록/수정/삭제가 성공했을때      , 매개변수 : x / 리턴값 : x 
전체출력함수(); 
function 전체출력함수(){ 
    // 1. 어디에 , #todoBottom , document.querySelector
    let todoBottom = document.querySelector('#todoBottom');
    // 2. 무엇을 
    let html = ``
        for( let index = 0 ; index<=할일목록.length-1 ; index++ ){  // index는 0부터 할일목록내 마지막인덱스까지 1씩증가반복 
            let info = 할일목록[index]; // index번째의 객체(할일)꺼내기 
            // 객체정보를 HTML로 구성하기 , 삼항연산자를 이용한 값에 따른 class 넣기/빼기 
            // 만약에 index번째의 할일객체내 할일상태가 true이면 'success' 클래스명 를 넣어주고 아니면 ''공백를 넣는다. 
            html += `<div class="contentBox ${ info.할일상태 == true ? 'success' : '' }">  
                        <div class="content"> <img src="${ info.할일사진 ? URL.createObjectURL(info.할일사진) : '' }" /> ${ info.할일내용 } </div>
                        <div class="contentBtns">
                            <button onclick="수정함수( ${ info.할일코드 })" class="updateBtn">수정</button>
                            <button onclick="삭제함수( ${ info.할일코드 } )" class="deleteBtn">삭제</button> 
                        </div>
                    </div>`
        } // for end 
    // 3. html출력 , innerHTML
    todoBottom.innerHTML = html;
    return; // 함수종료 , 리턴 값이 없는 생략 가능 
} // 출력 함수 end 

//[5] 삭제함수 , [삭제]버튼 클릭시 onclick                     , 매개변수 : 할일코드 / 리턴값 : x 
function 삭제함수( 삭제할일코드 ){ 
    // 1. 배열내 삭제할 요소(객체)를 찾기/조회/검색 등등
    for( let index = 0 ; index <= 할일목록.length-1 ; index++ ){
        if( 할일목록[index].할일코드 == 삭제할일코드 ){
            // 만약에 index번째의 할일객체내 할일코드와 삭제할할일코드와 같으면 
            // 2. 배열내 요소(객체) 삭제,  .splice( 삭제할인덱스 , 개수 ) , 인덱스 필요.
            할일목록.splice( index , 1 ); //현재 찾은 index 요소를 삭제한다.
            break; // 삭제 성공했을때 [다른 객체를 조회할 필요없이] 가장 가까운 반복문 종료.
        } // if end 
    } // for end 
    전체출력함수();
    return ; 
} // 삭제 함수 end 

//[4] 상태 수정 함수, ( p:할일코드 , r:x )
function 수정함수( 수정할일코드 ){ 
    // 1. 배열내 수정할 객체/요소 를 찾는다. 
    for( let index = 0 ; index <= 할일목록.length-1 ; index++ ){
        if( 할일목록[index].할일코드 == 수정할일코드 ){
            //만약에 index번째 할일객체내 할일코드가 수정할일코드와 같다면 
            let 할일상태 = 할일목록[index].할일상태 // 할일상태를 호출
            할일목록[index].할일상태 = !할일상태 // 할일상태를 부정후 다시 할일상태에 대입  false -> true , true -> false 
            break; // 수정했다면 다음 객체 조회는 할 필요 없이 반복문 종료 
        } // if end 
    } // for end 
    전체출력함수();
    return; 
}


    </script>
    
</body>
</html>